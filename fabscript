# -*- python -*-
#
# Copyright (c) 2017 Stefan Seefeld
# All rights reserved.
#
# Distributed under the Boost Software License, Version 1.0.
# (See accompanying file LICENSE_1_0.txt or copy at
# http://www.boost.org/LICENSE_1_0.txt)

from faber import platform
from faber.feature import set
from faber.tools.compiler import include, define, linkpath
from faber.artefacts.binary import binary
from faber.test import test, report, fail
from os.path import join

features += include('include')
features += define('BOOST_ALL_NO_LIB')  # disable auto-linking
boost_prefix = options.get_with('boost-prefix')
if boost_prefix:
    features += set(include(join(boost_prefix, 'include')), linkpath(join(boost_prefix, 'lib')))

test = module('test', features=features)
